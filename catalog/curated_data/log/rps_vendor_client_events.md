# RPS Vendor Client events

This table contains all events generated by the RPS Clients (GoDroid & GoWin). For the events mapping between GoDroid and GoWin, please kindly refer to [this Google Sheet](https://docs.google.com/spreadsheets/d/1fLy0U3Cf-k8M9C7o-pVx8sImdSsRs8I-lCtLUwlG0nQ/edit?usp=sharing). 

| Column | Type | Description | Categories |
| :--- | :--- | :--- | :--- |
| created_date | `STRING` | The partition column. The date when this row of record is generated in the tracking tool of the client. | |
| created_at | `TIMESTAMP` | The timestamp when this row of record is generated in the tracking tool of the client. | |
| event_name | `STRING` | The normalized event name of the RPS Clients. | |
| event_scope | `STRING` | The scope of the event. | auxiliary, connectivity, login, menu, order, printer, product or vendor |
| experiments | `STRING` | The experiment group the user belongs to. | |
| vendor_id | `INTEGER` | The identifier of a physical vendor within RPS. Only unique within the same `region`. To get a unique id of a record, concatenation of `region` and `vendor_id` is suggested. | | 
| vendor_code | `STRING` | The identifier of the vendor that is sent from the platform (e.g. Foodpanda) to the RPS systems. It is specific to the vendor within a platform. | |
| entity_id | `ARRAY` | The code of the local operational entity representing the country. This code is made out of two codes : the two-letter code of the venture, and the country iso. | AP_PA, AR_HU, BK_DE, BK_SG, BO_CA, etc |
| country_iso | `STRING` | A two-character alphanumeric code based on the country of the vendor as specified by ISO 3166-1 ALPHA-2. | AE, AR, AT, AU, BA, etc |
| timezone | `STRING` | The name of the timezone where the city of the vendor is located. The timezone enables time conversion, from UTC to local time. | |
| region | `STRING` | The region assigned to the country of the vendor. | ap, eu, kr, mena and us |
| [client](#client) | `RECORD` | All RPS Clients related information. | |
| [device](#device) | `RECORD` | All device related information. | |
| [vendor](#vendor) | `RECORD` | All vendor events related information. | |
| [orders](#orders) | `RECORD` | All order events related information. | |
| [product](#product) | `RECORD` | All product events related information. | |
| [printer](#printer) | `RECORD` | All printer events related information. | |
| [menu](#menu) | `RECORD` | All menu events related information. | |
| [connectivity](#connectivity) | `RECORD` | All connectivity events related information. | |
| [login](#login) | `RECORD` | All login events related information. | |
| [checkin](#checkin) | `RECORD` | All checkin events related information. | |
| [auxiliary](#auxiliary) | `RECORD` | All other events related information. | |

## client
| Column | Type | Description | Categories |
| :--- | :--- | :--- | :--- |
| name | `STRING` | The RPS client being used by the vendor. | GOWIN or GODROID |
| version | `STRING` | The version of RPS client being used by the vendor. | |
| wrapper_type | `STRING` | The type of the wrapper being used by the client. GoWin orders exclusive. | ANDROID, IOS, WEB, WINDOWS or WINDOWS_XP |
| wrapper_version | `STRING` | The version of the wrapper being used by the client. GoWin orders exclusive. | |

## device
| Column | Type | Description | Categories |
| :--- | :--- | :--- | :--- |
| os_name | `STRING` | The operating system of the device used by the vendor. | Android, BlackBerry, Chrome OS, iOS, Linux, Macintosh, Windows, etc |
| os_version | `STRING` | The operating system version of the device used by the vendor. | |
| brand | `STRING` | The manufacturer of the device used by the vendor. | |
| model | `STRING` | The model of the device used by the vendor. | |
| id | `STRING` | The universal unique identifier for the device within RPS. It is generated by the RPS Clients (GoDroid & GoWin) and stored in DMS. With region altogether, it can be used as joining key with the other CL tables. | |

## vendor
| Column | Type | Description | Categories |
| :--- | :--- | :--- | :--- |
| status | `STRING` | The status of the vendor when the event occurs. | AVAILABLE or UNAVAILABLE |
| unavailable_duration | `STRING` | The category of the busy mode. | CURRENT_DATE or TIME_LIMITED |
| minutes | `INTEGER` | The duration in minutes of the busy mode events. | |

## orders
| Column | Type | Description | Categories |
| :--- | :--- | :--- | :--- |
| id | `STRING` | The identifier of the order generated within the RPS system (i.e. iCash). | |
| code | `STRING` | The identifier of the order that is sent from the platform (e.g. Foodpanda) to the RPS systems. It is specific to the order within a country. | |
| delivery_type | `STRING` | The delivery type chosen for the order. OWN_DELIVERY means the order will be fulfilled by Delivery Hero's own fleet; VENDOR_DELIVERY delivery (a.k.a. "Marketplace") means the order will be fulfilled by the vendor's fleet.  | OWN_DELIVERY or VENDOR_DELIVERY |
| is_preorder | `BOOLEAN` | Flag whether the order was preordered. | |
| is_test_order | `BOOLEAN` | Flag whether the order is a test order. | |
| state | `STRING` | The state of the order, mapped to OMA for iCash orders. State machine found in OMA [Documentation](https://oma.stg.restaurant-partners.com/manual/index.html#rps_clients). | WAITING_FOR_TRANSPORT, RECEIVED_BY_VENDOR, ACCEPTED_BY_VENDOR, PICKED_UP, CANCELLED, DELAYED |
| cancelled_reason | `STRING` | The reason for the cancellation. Full list available in the [Global Fail Reasons List](https://product.deliveryhero.net/global-vendor/documentation/global-fail-reasons-list/). | BAD_WEATHER, BLACKLISTED_CUSTOMER, CARD_READER_NOT_AVAILABLE, CLOSED, CUSTOMER_DID_NOT_SHOW_UP, CUSTOMER_LEFT, CUSTOMER_NO_ANSWER, CUSTOMER_NO_SHOW, CUSTOMER_OUTSIDE_AREA, CUSTOMER_STILL_WAITING, DUPLICATE_ORDER, EXTRA_CHARGE_NEEDED, INCOMPLETE_ADDRESS, ITEM_UNAVAILABLE, MENU_ACCOUNT_PROBLEM, MODIFICATION_NOT_POSSIBLE, MOV_NOT_REACHED, NO_COURIER, OTHER, OUTSIDE_DELIVERY_AREA, PRODUCT_UNAVAILABLE, RESTAURANT_DELAY_CUSTOMER_LEFT, TECHNICAL_PROBLEM, TOO_BUSY, TOO_BUSY_KITCHEN, TOO_BUSY_NO_DRIVERS or UPDATES_IN_MENU |
| suggested_minutes | `STRING` | The suggested minute value shown to the vendor, for order acceptance and order delay events only. VD orders only. | |
| minutes | `STRING` | The minute value input by the vendor, for order acceptance and order delay events only. VD orders only. | |
| payment_method | `STRING` | The payment method of the order. | ONLINE, CREDIT_CARD or CASH |

## product
| Column | Type | Description | Categories |
| :--- | :--- | :--- | :--- |
| id | `STRING` | The identifier of the product. | |
| name | `STRING` | The name of the product in local language. | |
| availability | `BOOLEAN` | A flag indicating if the product is available or not. | |
| availability_duration | `STRING` | The category of the availability status for the product. | TODAY or INDEFINITELY |

## printer
| Column | Type | Description | Categories |
| :--- | :--- | :--- | :--- |
| connection_duration | `FLOAT`| The duration in seconds for the interval between the connection started and successful connection. | |
| name | `STRING` | The name of the printer. | |
| type | `STRING` | The type of the printer. | Bitmap Printer, Commands Printer or Star Printer |
| [print_receipt](#print_receipt) | `RECORD` | All printing receipt related information. | |

### print_receipt
| Column | Type | Description | Categories |
| :--- | :--- | :--- | :--- |
| receipts_number | `INTEGER` | The number of the printed receipts. | |
| printing_duration | `FLOAT` | The duration in seconds for the interval between the connection started and successful connection. | |

## menu
| Column | Type | Description | Categories |
| :--- | :--- | :--- | :--- |
| search_query | `STRING` | The keyword input by the user for searching products in the menu. | |
| search_type | `STRING` | The type of the search, indicating if the search is manual completed or with auto-completed. | manual_search |
| search_results_count | `INTEGER` | The number of the result returned with the search. | |
| is_products_shown | `BOOL` | If the product(s) is/are shown in the Menu component. | |
| is_products_selected | `BOOL` | If the shown product(s) are selected in the Menu component. | |

## connectivity
| Column | Type | Description | Categories |
| :--- | :--- | :--- | :--- |
| network_type | `STRING` | Whether the client is connected to a WiFi or cellular network. | wifi or cellular |
| dismissed_by | `STRING` | For overlay events. It indicates that if the overlay screen is dismissed automatically by fixing connectivity issue, or by a human user. | auto or user |

## login
| Column | Type | Description | Categories |
| :--- | :--- | :--- | :--- |
| type | `STRING` | The type of the login attempt. | ALREADYLOGGEDIN, AUTHLOGIN, GHOSTERY, MANUALLOGIN, OTPLOGIN, RELOGIN, TOKENLOGIN or UUIDLOGIN |
| selected_country_iso | `STRING` | The selected country value (represented by `country_iso`) by the user during onboarding. | |

## checkin
| Column | Type | Description | Categories |
| :--- | :--- | :--- | :--- |
| availability_status | `STRING` | The Availability Status of the Vendor. | CLOSED |
| next_opening_at | `TIMESTAMP` | The next opening time schedule of the Vendor in UTC timezone. | |

## auxiliary
| Column | Type | Description | Categories |
| :--- | :--- | :--- | :--- |
| new_orders_count | `INTEGER` | Quantity of orders pending during idle period. Only valid for idle_cover_shown events. | |
| previous_locale | `STRING` | The locale before the change of locale changing events. Locale changing related events only. | |
| new_locale | `STRING` | The locale after the change of locale changing events. Locale changing related events only. | |
| tutorial_name | `STRING` | The name of the tutorial shown to the user. Tutorial related events only. | daily_performance, decline_upcoming_order_button, food_ready_button, menu_products_search_button or new_branding |
| onboarding_from | `STRING` | How the tutorial is triggered, `INITIATION` means that it is triggered for the first time user; `NAVIGATION` means that it is triggered by user clicking the button. Onboarding tutorial related events only. | INITIATION or NAVIGATION |
| onboarding_page | `INTEGER` | The page number of the onboarding tutorial page. Onboarding tutorial related events only. | |
| onboarding_action | `STRING` | The interaction done by the user, could be clicking the button or swiping . Onboarding tutorial related events only. | BUTTON or SWIPE |
| onboarding_context | `STRING` | The context of the tutorial events. `INIT` means the tutorial was launched for the first time, while `NAV` stands for the Vendor clicking the button in the Menu drawer to launch the tutorial. | INITIATION or NAVIGATION |
| sound_type | `STRING` | The sound type chose by the Vendor. Could be `Default` or `Custom` (Platform specific). | |
| sound_volume | `STRING` | The selected volume by the Vendor. | high or medium or low |
| navigation_menu_item | `STRING` | The name of the navigation menu item being clicked by the Vendor. | |
| notification_displayed | `BOOLEAN` | The indicator if the button is clicked by the Vendor for the first time. This flag would only be `TRUE` for the first time. Afterward, it will always stay `FALSE`.  | |
| device_restarted_reason | `STRING` | The reason why the device is restarted by the Vendor.  | |
