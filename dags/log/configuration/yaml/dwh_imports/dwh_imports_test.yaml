dwh_merge_layer_databases:
  airflow_test:
    is_regional: true
    source: Debezium
    sharding_column: business_unit
    database_type: mysql
    endpoint: rds.eu.airflow.staging-eu.tf
    port: 3306
    credentials:
      username: foodora
      password: JDBC_LOG_PASSWORD
    tables:
      - name: ab_permission
        time_partitioning: created_date
        cleanup_enabled: false
        sanity_checks:
          created_date_null: true
          duplicate_check: true
        keep_last_import_only: true
        keep_last_import_only_partition_by_pk: true
        filter_import_by_date: false
        partition_by_date: true
        raw_layer:
          created_at_column: _ingested_at
          updated_at_column: _ingested_at
  airflow_custom_sharding_column:
    is_regional: true
    source: Debezium
    sharding_column: custom_sharding_column
    database_type: mysql
    endpoint: rds.eu.airflow.staging-eu.tf
    port: 3306
    credentials:
      username: foodora
      password: JDBC_LOG_PASSWORD
    tables:
      - name: custom_sharding_column_table
        cleanup_enabled: false
