curated_data:
  rps:
    ui_color: '#2a3177'
    bigquery_conn_id:
      tables: 'bigquery_logistics'
      reports: 'bigquery_default'
    tables:
      - name: _rps_order_status
      - name: _rps_orders_client_events
        time_partitioning: created_date
        cluster_fields: [region, order_id]
        dependencies:
          - rps_vendor_client_events
      - name: _rps_orders_devices
        cluster_fields: [region, device_id, order_id]
        dependencies:
          - rps_devices
          - rps_vendor_client_events
        dependencies_dl:
          - dms_push_notification_sent_message
      - name: _rps_posmw_orders
        time_partitioning: created_date
        cluster_fields: [region, order_id]
        dependencies_dl:
          - posmw_last_order_status
          - posmw_order_id_mapped
      - name: _rps_oma_order_transitions
        is_stream: false
        time_partitioning: created_date
        cluster_fields: [region, order_id]
      - name: _rps_oma_orders
        time_partitioning: created_date
        cluster_fields: [region, order_id]
        dependencies:
          - entities
          - vendors_v2
          - _rps_orders_client_events
          - _rps_orders_devices
          - _rps_posmw_orders
          - _rps_oma_order_transitions
          - _rps_order_status
          - _posmw_vendor_integration_type_history
          - _posmw_vendor_mapped_history
          - _posmw_chain_mapped_history
        dependencies_dl:
          - oma_restaurant_order
          - oma_grocery_order
          - oma_logistics_service_order
          # oma is imported in two different dags, one for regional app and other for country based app
          # Both regional and country based imports insert data into oma_* tables (i.e. oma_grocery_orders has both regional and country data)
          # But we still need to add the dependency for oma_country_* tables to make sure data from country import is upto date.
          - oma_country_restaurant_order
          - oma_country_grocery_order
          - oma_country_logistics_service_order
      - name: _rps_gfr_cancellations
      - name: _rps_icash_order_cancellation
      - name: _rps_icash_order_transitions
        is_stream: true
        time_partitioning: created_date
        cluster_fields: [region, order_id]
        dependencies:
          - _rps_order_status
        dependencies_dl:
          - icash_delivery_changelog
          - icash_delivery_platform_notification
      - name: _rps_icash_orders
        time_partitioning: created_date
        cluster_fields: [region, order_id]
        dependencies:
          - entities
          - vendors_v2
          - _rps_orders_client_events
          - _rps_orders_devices
          - _rps_posmw_orders
          - _rps_icash_order_transitions
          - _posmw_vendor_integration_type_history
          - _posmw_vendor_mapped_history
          - _posmw_chain_mapped_history
          - _rps_order_status
        dependencies_dl:
          - icash_delivery
          - icash_delivery_platform
      - name: rps_orders
        create_shared_view: true
        filter_by_entity: true
        filter_by_country: false
        entity_id_column: entity.id
        sanity_checks:
          - name: sanity_check_rps_orders
          - name: sanity_check_vendors_v2_referential_integrity
        columns:
          - region
          - service
          - transmission_flow
          - country_iso
          - entity
          - created_date
          - created_at
          - order_id
          - order_code
          - pos_order_id
          - vendor
          - timezone
          - delivery_type
          - is_preorder
          - order_status
          - transitions
          - received_at
          - waiting_for_transport_at
          - sending_to_vendor_at
          - received_by_vendor_at
          - modified_by_vendor_at
          - reconciliation_started_at
          - reconciled_with_platform_at
          - reconciled_with_transport_at
          - minutes_to_accept
          - accepted_by_vendor_at
          - implicitly_accepted_by_vendor_at
          - prepared_at
          - preparation_minutes
          - estimated_pickup_at
          - near_pickup_at
          - picked_up_at
          - near_dropoff_at
          - promised_for
          - estimated_deliver_at
          - original_estimated_deliver_at
          - delivered_at
          - cancelled_at
          - stage
          - timings
          - cancellation
          - products
          - client
          - device
          - comment
        dependencies:
          - _rps_oma_orders
          - _rps_icash_orders
          - _rps_order_status
          - _rps_icash_order_cancellation
      - name: rps_vendor_portal_events
        # The query uses dhh---rps-portal:176081791.ga_sessions_intraday_*
        bigquery_conn_id: 'bigquery_default'
        is_stream: true
        time_partitioning: created_date
        cluster_fields: ~
        filter_by_entity: false
        dependencies:
          - entities
          - vendors_v2
      - name: _rps_godroid_data_raw
        # The query uses rps-own-delivery-live:analytics_156198623.events_*
        bigquery_conn_id: 'bigquery_default'
        is_stream: true
        time_partitioning: created_date
        cluster_fields: [entity_id, vendor_code, event_name]
        filter_by_entity: false
        dependencies:
          - entities
          - countries
          - vendors_v2
          - _rps_vendor_client_events_normalized
      - name: _rps_gowin_data_raw
        # The query uses rps-own-delivery-live:analytics_156198623.events_*
        bigquery_conn_id: 'bigquery_default'
        is_stream: true
        time_partitioning: created_date
        cluster_fields: [entity_id, vendor_code, event_name]
        filter_by_entity: false
        dependencies:
          - entities
          - countries
          - vendors_v2
          - _rps_vendor_client_events_normalized
      - name: _rps_vendor_client_events_normalized
      - name: rps_vendor_client_events
        is_stream: true
        time_partitioning: created_date
        cluster_fields: [entity_id, vendor_code, event_name]
        filter_by_entity: true
        create_shared_view: true
        filter_by_country: false
        entity_id_column: entity_id
        sanity_checks:
          - name: sanity_check_rps_vendor_client_events
        columns:
          - created_date
          - created_at
          - event_name
          - event_scope
          - experiments
          - vendor_id
          - vendor_code
          - entity_id
          - country_iso
          - timezone
          - region
          - client
          - device
          - vendor
          - orders
          - product
          - printer
          - menu
          - connectivity
          - login
          - checkin
          - auxiliary
        dependencies:
          - _rps_godroid_data_raw
          - _rps_gowin_data_raw
      - name: _rps_mdm_devices
        time_partitioning: created_date
        cluster_fields: [service, region]
      - name: _rps_dms_devices
        time_partitioning: created_date
        cluster_fields: [region, device_id]
        dependencies_dl:
          - dms_device
      - name: rps_devices
        time_partitioning: created_date
        cluster_fields: [service, region, device_id]
        sanity_checks:
          - name: sanity_check_rps_devices
        dependencies:
          - entities
          - vendors_v2
          - _rps_mdm_devices
          - _rps_dms_devices
        filter_by_entity: false
      - name: rps_device_events
        is_stream: true
        time_partitioning: created_date
        cluster_fields: [region, device_id, status_id]
        filter_by_entity: false
        sanity_checks:
          - name: sanity_check_rps_device_events
        dependencies:
          - rps_devices
      - name: rps_vendor_client_installations
        # The query uses rps-gowin-prd:installer.time_span_event
        bigquery_conn_id: 'bigquery_default'
        filter_by_entity: false
        dependencies:
          - rps_devices
      - name: rps_backoffice_sessions
        # The query uses dhh---rps-backoffice.208577040.ga_sessions, we need to authorize the view
        # if we want to remove the following custom setting
        bigquery_conn_id: 'bigquery_default'
      - name: _posmw_vendor_integration_type_history
        time_partitioning: created_date
        cluster_fields: [region, vendor_id]
        dependencies_dl:
          # dependency on hl
          - posmw_vendor_integration_type
      - name: _posmw_chain_mapped_history
        time_partitioning: created_date
        cluster_fields: [region, chain_id]
        dependencies_dl:
          # dependency on hl
          - posmw_chain_mapped
      - name: _posmw_vendor_mapped_history
        time_partitioning: created_date
        cluster_fields: [region, vendor_id]
        dependencies_dl:
          # dependency on hl
          - posmw_vendor_mapped
      - name: _vendor_kpis_rps_orders
        time_partitioning: created_date
        cluster_fields: [ entity_id, vendor_code ]
        dependencies:
          - rps_orders
      - name: _vendor_kpis_rps_client
        time_partitioning: created_date
        cluster_fields: [ entity_id, vendor_code ]
        dependencies:
          - rps_vendor_client_events
      - name: _vendor_kpis_rps_connectivity
        time_partitioning: created_date
        cluster_fields: [ entity_id, vendor_code ]
      - name: _vendor_kpi_rps
        time_partitioning: created_date
        cluster_fields: [ entity_id, vendor_code ]
        dependencies:
          - _vendor_kpis_rps_orders
          - _vendor_kpis_rps_client
          - _vendor_kpis_rps_connectivity
      - name: _vendor_kpi_od
        dependencies:
          - countries
          - orders
          - _crossborder_orders
      - name: vendor_kpi
        create_shared_view: true
        filter_by_country: false
        entity_id_column: entity_id
        filter_by_entity: true
        time_partitioning: created_date_local
        cluster_fields: [ entity_id, vendor_code ]
        sanity_checks:
          - name: sanity_checks_vendor_kpi
        columns:
          - created_date_local
          - created_hour_local
          - entity_id
          - display_name
          - brand_id
          - region
          - country_iso
          - country_name
          - timezone
          - vendor_code
          - orders
          - order_timings
          - defective_orders
          - client
          - connectivity
          - own_deliveries
        dependencies:
          - entities
          - _vendor_kpi_rps
          - _vendor_kpi_od
      - name: rps_vendor_attributes_latest_snapshots
        time_partitioning: captured_date
        cluster_fields: [ entity_id, vendor_code ]
        is_stream: true
        dependencies:
          - rps_vendor_attributes_latest
    reports:
      - name: rps_gsr_daily_dashboard_orders
        dependencies:
          - entities
          - countries
          - rps_orders
          - _rps_gfr_cancellations
          - vendors_v2
      - name: rps_gsr_daily_dashboard_order_timings
        dependencies:
          - rps_orders
          - vendors_v2
      - name: rps_gsr_daily_dashboard_orders_rps_share
        dependencies:
          - rps_orders
      - name: rps_godroid_users
        dependencies:
          - rps_vendor_client_events
      - name: rps_gowin_installation
        dependencies:
          - rps_vendor_client_installations
      - name: rps_gowin_installation_per_device
        dependencies:
          - rps_vendor_client_installations
      - name: rps_vendor_attributes
        dependencies:
          - rps_orders
      - name: rps_vendor_attributes_latest
        dependencies:
          - entities
          - rps_vendor_attributes
      - name: rps_gsr_client_dashboard_overview
        bigquery_conn_id: 'bigquery_default'
        time_partitioning: created_date
        cluster_fields: [entity_id, region, brand_name, country_name]
        dependencies:
          - entities
          - rps_vendor_client_events
          - rps_devices
      - name: rps_gsr_client_dashboard_order_events
        bigquery_conn_id: 'bigquery_default'
        time_partitioning: created_date
        cluster_fields: [entity_id, region, brand_name, country_name]
        dependencies:
          - entities
          - rps_vendor_client_events
          - rps_orders
      - name: rps_gsr_client_dashboard_order_timings_stat
        bigquery_conn_id: 'bigquery_default'
        time_partitioning: created_date
        cluster_fields: [ entity_id, region, brand_name, country_name ]
        dependencies:
          - entities
          - rps_vendor_client_events
          - rps_orders
      - name: rps_gsr_client_dashboard_events_hourly
        time_partitioning: created_date
        cluster_fields: [ entity_id, region, brand_name, country_name ]
        dependencies:
          - entities
          - rps_vendor_client_events
          - rps_orders
      - name: rps_gsr_client_dashboard_events
        bigquery_conn_id: 'bigquery_default'
        time_partitioning: created_date
        cluster_fields: [ entity_id, region, brand_name, country_name ]
        dependencies:
          - entities
          - rps_gsr_client_dashboard_events_hourly
      - name: rps_gsr_continuous_product_unavailability
        dependencies:
          - entities
          - rps_vendor_client_events
          - rps_orders
          - rps_vendor_attributes
      - name: rps_gsr_device_connectivity_general
        dependencies:
          - entities
          - vendors_v2
          - countries
          - _rps_devices_network_history
          - rps_devices
          - rps_orders
      - name: rps_gsr_daily_dashboard_defective_orders
        dependencies:
          - entities
          - rps_orders
          - _orders
          - _deliveries
      - name: rps_datastudio_device_status_trend
        dependencies:
          - entities
          - rps_devices
          - rps_device_events
      - name: _rps_devices_network_history
        time_partitioning: created_date
        cluster_fields: [ region, device_id ]
        dependencies:
          - rps_device_events
      - name: rps_gsr_device_service_metrics
        dependencies:
          - rps_orders
          - rps_devices
          - _rps_devices_network_history
          - vendors_v2
          - rps_vendor_attributes_latest
  logistics:
    ui_color: '#e81abe'
    bigquery_conn_id:
      tables: 'bigquery_logistics'
      reports: 'bigquery_default'
    reports:
      - name: porygon_driving_time_city_statistics
        dependencies:
          - orders
          - countries
      - name: porygon_driving_time_country_statistics
        dependencies:
          - orders
          - countries
      - name: rider_report
        dependencies:
          - countries
          - shifts
          - _rider_report_source
      - name: rider_recruiting
        dependencies:
          - countries
          - shifts
          - riders
      - name: scorecard_report_log_kpis
        dependencies:
          - orders
          - countries
          - shifts
          - _orders_to_zones
      - name: distribution_report
        dependencies:
          - orders
          - countries
      - name: closures_shrinkages_report
        dependencies:
          - porygon_events
          - countries
      - name: closure_report_lost_orders
        dependencies:
          - orders
          - countries
      - name: utr_sensitivity_report
        dependencies:
          - orders
          - countries
          - _orders_to_zones
      - name: rooster_evaluations_sanity_checks
        dependencies:
          - _rider_working_time
          - shifts
      - name: logistics_dashboard_v2
        dependencies:
          - _rider_working_time
          - orders
          - countries
          - shifts
          - riders
          - _outlier_deliveries
      - name: logistics_dashboard_v3
        dependencies:
          - _rider_working_time
          - orders
          - countries
          - shifts
          - riders
          - _outlier_deliveries
      - name: issue_automation_report
        dependencies:
          - countries
          - issues
      - name: issue_automation_actions_conditions
        dependencies:
          - _issue_rules_templates
          - countries
      - name: gps_accuracy_report
        dependencies:
          - orders
          - vendors
          - countries
      - name: cancellations_report
        dependencies:
          - orders
          - vendors
          - countries
      - name: vendor_report
        dependencies:
          - orders
          - countries
          - _crossborder_orders
      - name: payment_report_quest_scoring
        dependencies:
          - orders
          - rider_payments
      - name: payment_report
        dependencies:
          - countries
          - orders
          - riders
          - rider_payments
          - shifts
          - payment_report_quest_scoring
          - payments_basic_rules
      - name: payment_report_tableau
        dependencies:
          - payment_report
      - name: payment_report_v2_special_payments
        dependencies:
          - riders
          - rider_special_payments
          - rider_payments
          - shifts
      - name: payment_report_v2_quest_payments
        dependencies:
          - riders
          - rider_payments
          - shifts
          - orders
          - payments_quest_rules
      - name: payment_report_v2
        dependencies:
          - riders
          - rider_payments
          - shifts
          - orders
          - countries
          - payments_basic_rules
          - rider_percentage_payments
          - rider_referral_payments
          - rider_tip_payments
          - payment_report_v2_quest_payments
          - payment_report_v2_special_payments
      - name: shift_sign_ups
        dependencies:
          - shifts
          - riders
          - _shift_batches
          - countries
      - name: shift_swaps
        dependencies:
          - shift_swap_requests
          - shifts
          - riders
          - _shift_batches
          - countries
      - name: das_scorecard_report
        dependencies:
          - vendors_v2
          - countries
      - name: das_scorecard_vendors
        dependencies:
          - das_scorecard_report
      - name: das_scorecard_zones
        dependencies:
          - countries
          - porygon_events
      - name: city_dispatching_report_v2
        dependencies:
          - countries
          - orders
          - shifts
          - issues
          - audit_logs
      - name: dispatching_report_v2
        dependencies:
          - audit_logs
      - name: compliance_report
        dependencies:
          - countries
          - rider_compliance
          - shifts
      - name: nps_report
        dependencies:
          - _nps_survey_response
      - name: freshdesk_report
        dependencies:
          - _freshdesk
      - name: acceptance_report
        dependencies:
          - riders
          - orders
          - rider_payments
          - payments_basic_rules
          - _outlier_deliveries
          - issues
          - countries
      - name: acceptance_report_order_level
        dependencies:
          - orders
          - issues
          - _outlier_deliveries
          - countries
      - name: shift_combination
        dependencies:
          - riders
          - orders
          - shifts
          - countries
      - name: rider_cohort
        dependencies:
          - _rider_kpi_source
          - shifts
          - applicants
          - countries
      - name: rider_timings_breakdown
        dependencies:
          - utr_timings
          - orders
      - name: rider_timings_breakdown_statistics
        dependencies:
          - utr_timings
          - orders
      - name: weekly_flash_summary
        dependencies:
          - riders
          - orders
          - shifts
          - countries
          - payment_report
      - name: weekly_flash_summary_vendors
        dependencies:
          - vendors_v2
          - dynamic_pricing_config
      - name: sanity_checks_deliveries
        dependencies:
          - orders
      - name: dps_variable_df_report
        dependencies:
          - orders
          - vendors_v2
          - countries
      - name: delivery_areas_issues_flag
        dependencies:
          - vendors_v2
          - countries

    tables:
      - name: entities
        bigquery_conn_id: 'bigquery_default'
        filter_by_entity: false
        sanity_checks:
          - name: sanity_check_entities
      - name: countries
        create_shared_view: True
        filter_by_entity: false
        sanity_checks:
          - name: sanity_check_countries
        dependencies:
          - entities
        dependencies_dl:
          - porygon_starting_points
          - porygon_zones
          - porygon_default_deliveryarea_settings
          - porygon_default_deliveryareas
          - porygon_events
          - hurrier_geo_zones
          - porygon_cities
          - hurrier_cities
          - iam_countries
          - forecast_opening_times
          - forecast_cities
          - forecast_zones
          - dynamic_pricing_travel_time_formula
          - dynamic_pricing_delivery_fee_range
          - dynamic_pricing_vendor
        columns:
          - region
          - region_short_name
          - country_code
          - country_iso
          - country_name
          - currency_code
          - platforms
          - cities
      - name: _forecasts_rider_demand
        create_shared_view: false
        filter_by_entity: false
        columns: []
        dependencies:
          - countries
        dependencies_dl:
          - forecast_demands
      - name: order_forecasts
        create_shared_view: true
        filter_by_entity: false
        dependencies:
          - countries
          - _forecasts_rider_demand
        dependencies_dl:
          - forecast_orders_forecasts
          - forecast_forecasts
        columns:
          - country_code
          - created_date
          - zone_id
          - model_name
          - timezone
          - forecasts
      - name: _addresses
        create_shared_view: false
        dependecies:
          - countries
        dependencies_dl:
          - hurrier_addresses
      - name: _deliveries
        create_shared_view: false
        pool_name: curated_data_long_running_queries
        execution_timeout_minutes: 25
        dependencies:
          - countries
          - riders
          - _delivery_transitions_raw
          - _addresses
          - _order_transitions
          - stacked_deliveries
        dependencies_dl:
          - hurrier_deliveries
          - hurrier_vehicle_types
          - hurrier_vehicles
          - hurrier_vehicle_bag_types
      - name: _issues_automated_naming
        create_shared_view: false
        filter_by_entity: false
        columns: []
        dependencies: []
      - name: _order_transitions
        create_shared_view: false
        dependencies_dl:
          - hurrier_order_transitions
      - name: _orders
        create_shared_view: false
        filter_by_entity: false
        sanity_checks:
          - name: sanity_check__orders_city_id_not_null
        dependencies:
          - countries
          - _addresses
        dependencies_dl:
          - hurrier_orders
      - name: _porygon_drive_time
        create_shared_view: false
        filter_by_entity: false
        dependencies:
          - _orders
          - _deliveries
          - vendors
          - _porygon_vehicle_profile_versions
      - name: orders
        execution_timeout_minutes: 25
        create_shared_view: true
        filter_by_entity: true
        sanity_checks:
          - name: sanity_check_orders
            is_blocking: False
        columns:
          - country_code
          - region
          - order_id
          - platform_order_id
          - platform_order_code
          - entity
          - created_date
          - created_at
          - order_placed_at
          - city_id
          - zone_id
          - timezone
          - is_preorder
          - estimated_prep_time
          - estimated_prep_buffer
          - cod_change_for
          - cod_collect_at_dropoff
          - cod_pay_at_pickup
          - delivery_fee
          - dropoff_address_id
          - online_tip
          - vendor_accepted_at
          - sent_to_vendor_at
          - original_scheduled_pickup_at
          - pickup_address_id
          - platform
          - promised_delivery_time
          - updated_scheduled_pickup_at
          - stacking_group
          - order_status
          - tags
          - order_value
          - capacity
          - vendor_order_number
          - deliveries
          - cancellation
          - customer
          - vendor
          - porygon
          - timings
        dependencies:
          - _orders
          - vendors_v2
          - _deliveries
          - _order_transitions
          - _orders_to_zones
          - _porygon_drive_time
          - zone_stats
      - name: rider_devices
        create_shared_view: true
        filter_by_entity: false
        is_stream: true
        time_partitioning: created_date
        cluster_fields: ~
        columns:
          - country_code
          - created_date
          - timezone
          - rider_id
          - received_at
          - device
        dependecies:
          - countries
        dependencies_dl:
          - road_runner_events
      - name: _delivery_transitions_raw
        is_stream: true
        time_partitioning: created_date
        cluster_fields: [country_code, delivery_id]
        dependencies_dl:
          - hurrier_delivery_transitions
      - name: _dispatch_cycles
        is_stream: true
        time_partitioning: created_date
        cluster_fields: [country_code, fleet_id]
      - name: _employee_starting_points
        dependencies_dl:
          - rooster_employee_starting_points
      - name: _rooster_employees
        dependencies_dl:
          - rooster_employee
          - rooster_employee_field
      - name: riders
        create_shared_view: True
        filter_by_entity: false
        sanity_checks:
          - name: sanity_check_riders_updated_fake_date
          - name: sanity_check_rooster_contracts
          - name: sanity_check_contracts
            is_blocking: false
          - name: sanity_check_contracts_duplicates
        columns:
          - country_code
          - rider_id
          - rider_name
          - email
          - phone_number
          - reporting_to
          - batch_number
          - created_at
          - birth_date
          - contracts
          - batches
          - custom_fields
          - absences_history
          - updated_at
          - rider_vehicles
          - starting_points
          - rider_feedbacks
          - nps
        dependencies:
          - _employee_starting_points
          - _rooster_employees
          - _nps_rider_survey_response
        dependencies_dl:
          - rooster_batch_history
          - rooster_employee_contract
          - rooster_contract
          - rooster_absence
          - hurrier_couriers
          - rooster_employee_vehicle
          - rooster_vehicle_type
          - hurrier_courier_feedbacks
      # Fake rider table to test PII column restriction
      - name: riders_pii
        create_shared_view: true
        filter_by_entity: false
        policy_tags:
          - column: rider_name
            tag: Medium
          - column: email
            tag: Private data
          - column: phone_number
            tag: High
        columns:
          - country_code
          - rider_id
          - rider_name
          - email
          - phone_number
          - created_at
      - name: rider_wallet
        create_shared_view: True
        filter_by_entity: false
        columns:
          - country_code
          - transaction_id
          - rider_id
          - delivery_id
          - order_id
          - city_id
          - timezone
          - created_at
          - updated_at
          - created_date
          - type
          - amount
          - balance
          - created_by
          - manual
          - mass_update
          - note
          - external_provider_id
          - integrator_id
          - status
          - message
          - issues
        dependencies:
          - orders
        dependencies_dl:
          - cod_journal
          - cod_issue
      - name: _nps_rider_survey_response
        create_shared_view: false
        filter_by_entity: false
      - name: vendors
        create_shared_view: true
        filter_by_entity: false
        dependencies:
          - _orders
          - _addresses
        dependencies_dl:
          - porygon_deliveryareas_versions
          - porygon_deliveryareas
          - tes_restaurant
        columns:
          - country_code
          - city_id
          - vendor_id
          - platform_vendor_id
          - vendor_code
          - vendor_name
          - order_value_limit
          - global_entity_id
          - entity_ids
          - walk_in_time
          - walk_out_time
          - location
          - last_provided_location
          - location_history
          - delivery_provider
          - cuisines
          - is_halal
          - created_at
          - updated_at
          - delivery_areas
          - vertical_type
      - name: _vendors_hurrier
        dependencies:
          - countries
          - _addresses
        dependencies_dl:
          - hurrier_businesses
      - name: _vendors_delivery_areas
        sanity_checks:
          - name: sanity_check_vendor_delivery_areas
        dependencies_dl:
          - porygon_deliveryareas_versions
          - porygon_deliveryareas
        dependencies:
          - audit_logs
      - name: _vendors_porygon
        dependencies:
          - countries
          - _vendors_delivery_areas
          - _porygon_drive_time_polygons
        dependencies_dl:
          - porygon_restaurants
      - name: _vendors_rps_vendor_service
        bigquery_conn_id: 'bigquery_default'
        dependencies:
          - entities
        dependencies_dl:
          - vendor_service_vendors
          - vendor_service_platform_vendor_relations
      - name: _vendors_rps_icash
        dependencies:
          - entities
        dependencies_dl:
          - icash_restaurant_2_delivery_platform
          - icash_operator_contract_plan_options
          - icash_restaurant
          - icash_address_restaurant
          - icash_country
          - icash_contract_plan
          - icash_contract_plan_options
      - name: _vendors_rps_is_monitor_enabled
        dependencies:
          - entities
          - _vendors_rps_icash
        dependencies_dl:
          - restaurant_monitor_platform_settings
          - restaurant_monitor_vendor_settings
          - rps_monitor
      - name: _vendors_rps
        dependencies:
          - entities
          - countries
          - _vendors_rps_vendor_service
          - _vendors_rps_icash
          - _vendors_rps_is_monitor_enabled
        dependencies_dl:
          - dms_device
          - posmw_vendor_mapped
          - posmw_chain_mapped
          - posmw_integration
          - posmw_vendor_integration_type
          - icash_delivery_platform
      - name: vendors_v2
        sanity_checks:
          - name: sanity_check_vendors_v2
        dependencies:
          - _vendors_hurrier
          - _vendors_porygon
          - _vendors_rps
          - countries
          - _vendors_dynamic_pricing
        dependencies_dl:
          - tes_restaurant
          - tes_platform_country
          - tes_time_bucket
        create_shared_view: true
        filter_by_entity: True
        filter_by_country: false
        entity_id_column: entity_id
        columns:
          - entity_id
          - vendor_code
          - name
          - cuisines
          - is_active
          - chain
          - tags
          - delivery_provider
          - vertical_type
          - customer_types
          - characteristics
          - vehicle_profile
          - hurrier
          - rps
          - location
          - last_provided_location
          - location_history
          - delivery_areas
          - delivery_areas_location
          - porygon
          - dps
          - time_buckets
          - prep_time_config
      - name: issues
        create_shared_view: True
        filter_by_entity: false
        sanity_checks:
          - name: sanity_check_issues_duplicates
            is_blocking: true
        columns:
          - country_code
          - created_date
          - issue_id
          - delivery_id
          - rider_id
          - city_id
          - zone_id
          - timezone
          - issue_type
          - issue_category
          - issue_name
          - notes
          - actions
          - picked_at
          - picked_by
          - dismissed_at
          - resolved_at
          - show_on_watchlist
          - created_at
          - updated_at
        dependencies:
          - audit_logs
          - orders
          - _issues_automated_naming
          - shifts
          - _hurrier_issues
        dependencies_dl:
          - issue_service_issues
          - issue_service_issue_rules
      - name: _hurrier_issues
        create_shared_view: false
        filter_by_entity: false
        columns: []
        dependencies:
          - audit_logs
          - orders
          - _issues_automated_naming
          - shifts
        dependencies_dl:
          - hurrier_issues
          - hurrier_couriers
          - hurrier_issue_rules
      - name: shifts
        create_shared_view: True
        filter_by_entity: false
        columns:
          - country_code
          - created_date
          - shift_id
          - rider_id
          - city_id
          - timezone
          - starting_point_id
          - zone_id
          - is_repeating
          - shift_start_at
          - shift_end_at
          - planned_shift_duration
          - shift_state
          - absences
          - shift_tag
          - actual_start_at
          - actual_end_at
          - login_difference
          - logout_difference
          - deliveries
          - actual_working_time
          - actual_working_time_by_date
          - actual_break_time
          - actual_break_time_by_date
          - evaluations
          - break_time
          - shift_created_by
          - shift_updated_by
          - created_at
          - updated_at
          - vehicle_bag
          - vehicle_profile
        dependencies:
          - countries
          - orders
          - riders
          - _rider_working_time
        dependencies_dl:
          - rooster_evaluation
          - rooster_shift
          - rooster_vehicle_type
      - name: unassigned_shifts
        create_shared_view: True
        filter_by_entity: false
        columns:
          - country_code
          - created_date
          - city_id
          - zone_id
          - starting_point_id
          - unassigned_shift_id
          - slots
          - start_at
          - end_at
          - created_at
          - updated_at
          - created_by
          - updated_by
          - tag
          - state
          - timezone
        dependencies:
          - countries
        dependencies_dl:
          - rooster_unassigned_shift
      - name: porygon_events
        create_shared_view: True
        filter_by_entity: false
        columns:
          - country_code
          - city_id
          - timezone
          - event_id
          - platform
          - created_at
          - created_date
          - is_shape_in_sync
          - transactions
        dependencies:
          - countries
        dependencies_dl:
          - porygon_events_versions
          - porygon_transaction
          - porygon_events
      - name: delivery_areas_events
        create_shared_view: true
        filter_by_entity: false
        columns:
          - country_code
          - event_id
          - active_from
          - active_to
          - operation_type
          - city
          - timezone
          - zone_id
          - transaction_id
          - end_transaction_id
          - start_at
          - end_at
          - duration
          - is_active
          - action
          - value
          - activation_threshold
          - deactivation_threshold
          - title
          - is_shape_in_sync
          - message
          - shape
          - tags
          - created_date
        dependencies:
          - countries
        dependencies_dl:
          - porygon_events_versions
          - porygon_transaction
      - name: lost_orders
        create_shared_view: true
        filter_by_entity: false
        columns:
          - country_code
          - created_date
          - event_type
          - zone_id
          - city_id
          - timezone
          - lost_orders
          - timings
          - events
        dependencies:
          - countries
          - porygon_events
      - name: stacked_deliveries
        filter_by_entity: false
        columns: []
        dependencies_dl:
          - hurrier_deliveries
          - hurrier_orders
      - name: road_runner_screen_open
        is_stream: true
        time_partitioning: created_date
        cluster_fields: [country, platform]
      - name: audit_logs
        create_shared_view: true
        filter_by_entity: false
        is_stream: true
        time_partitioning: created_date
        cluster_fields: ~
        columns:
          - country_code
          - action
          - created_at
          - log_id
          - user_id
          - email
          - roles
          - application
          - created_date
          - country_name
          - timezone
          - hurrier
          - rooster
          - delivery_area
          - arara
        dependencies:
          - countries
          - riders
        dependencies_dl:
          - audit_log_audit_log
          - hurrier_dispatcher_notes
          - iam_users
      - name: rider_payments
        create_shared_view: true
        filter_by_entity: false
        columns:
          - region
          - country_code
          - created_date
          - rider_id
          - rider_name
          - timezone
          - exchange_rate
          - total_date_payment_eur
          - total_date_payment
          - payment_details
        dependencies:
          - countries
          - shifts
          - riders
        dependencies_dl:
          - rooster_payments_payment
          - rooster_payments_delivery
          - rooster_payments_payment_detail
          - rooster_payments_basic_payment_rule
          - rooster_payments_quest_payment
          - rooster_payments_goal
          - rooster_payments_quest_payment_rule
          - rooster_payments_real_time_scoring_payment
          - rooster_payments_scoring_payment_rule
          - rooster_payments_delivery
          - rooster_starting_point
          - rooster_payments_hidden_basic_payment
      - name: rider_referral_payments
        create_shared_view: true
        filter_by_entity: false
        columns:
          - region
          - country_code
          - created_date
          - rider_id
          - rider_name
          - vehicle_type
          - contract_id
          - contract_type
          - city_id
          - city_name
          - timezone
          - total_payment_date
          - payment_details
        dependencies:
          - countries
          - riders
        dependencies_dl:
          - rooster_payments_referral_payment
          - rooster_payments_referral
      - name: rider_special_payments
        create_shared_view: true
        filter_by_entity: false
        columns:
          - region
          - country_code
          - created_date
          - rider_id
          - rider_name
          - timezone
          - total_payment_date
          - payment_details
        dependencies:
          - countries
          - riders
        dependencies_dl:
          - rooster_payments_special_payment
      - name: rider_tip_payments
        create_shared_view: true
        filter_by_entity: false
        columns:
          - region
          - country_code
          - created_date
          - rider_id
          - rider_name
          - timezone
          - total_payment_date
          - payment_details
        dependencies:
          - orders
          - riders
        dependencies_dl:
          - rooster_payments_tip_payment
          - rooster_payments_delivery
      - name: rider_percentage_payments
        create_shared_view: true
        filter_by_entity: false
        columns:
          - region
          - country_code
          - created_date
          - rider_id
          - rider_name
          - timezone
          - total_payment_date
          - payment_details
        dependencies:
          - riders
        dependencies_dl:
          - rooster_payments_percentage_payment
      - name: payments_deposit_rules
        create_shared_view: true
        filter_by_entity: false
        columns:
          - region
          - country_code
          - created_date
          - id
          - created_by
          - created_at
          - approved_at
          - approved_by
          - updated_at
          - active
          - name
          - description
          - amount
          - cycle_number
          - gross_earning_percentage
          - status
          - applies_to
        dependencies_dl:
          - rooster_payments_deposit_payment_rule
      - name: payments_percentage_rules
        create_shared_view: true
        filter_by_entity: false
        columns:
          - country_code
          - created_date
          - created_at
          - updated_at
          - id
          - name
          - created_by
          - status
          - active
          - start_date
          - end_date
          - percentage
          - apply_to
          - applies_to
        dependencies_dl:
          - rooster_payments_percentage_payment_rule
      - name: rider_deposit_payments
        create_shared_view: true
        filter_by_entity: false
        columns:
          - region
          - country_code
          - created_date
          - payment_id
          - rider_id
          - rider_name
          - timezone
          - paid_amount
          - remaining_amount
          - status
          - payment_cycle_id
          - payment_cycle_start_date
          - payment_cycle_end_date
          - payment_rule_id
          - created_at
          - updated_at
        dependencies:
          - countries
          - riders
        dependencies_dl:
          - rooster_payments_deposit_payment
      - name: applicants
        create_shared_view: true
        filter_by_entity: false
        columns:
          - region
          - country_code
          - timezone
          - location_id
          - applicant_id
          - created_date
          - created_at
          - city_id
          - location_name
          - language_id
          - duplicate
          - rider_id
          - braze_user_created_at
          - braze_welcome_sent
          - last_reminded_at
          - rejected_at
          - rejected_by
          - rejection_category
          - rejection_type
          - approved_at
          - referred_by_id
          - custom_fields
          - workflow
          - url
          - url_id
          - link_click_count
          - link_type
        dependencies:
          - countries
        dependencies_dl:
          - arara_applicants
          - arara_workflows
          - arara_rejection_reasons
          - arara_applicant_fields
          - arara_applicant_stages
          - arara_stages
          - arara_applicant_stage_transitions
          - arara_locations
          - arara_cities
      - name: _rider_report_source
        dependencies:
          - countries
          - shifts
          - riders
          - orders
          - audit_logs
          - _orders_to_zones
          - _rider_working_time
          - shift_swap_requests
          - utr_target_periods
      - name: _rider_kpi_source
        dependencies:
          - countries
          - shifts
          - riders
          - orders
          - audit_logs
          - _orders_to_zones
          - _rider_working_time
          - shift_swap_requests
          - utr_target_periods
      - name: rider_kpi
        create_shared_view: true
        filter_by_entity: false
        columns:
          - created_date_local
          - country_code
          - country_name
          - city_id
          - city_name
          - zone_id
          - zone_name
          - rider_id
          - rider_name
          - email
          - batch_number
          - current_batch_number
          - contract_type
          - contract_name
          - job_title
          - contract_start_date_local
          - contract_end_date_local
          - contract_creation_date_local
          - hiring_date_local
          - rider_contract_status
          - captain_name
          - vehicle_profile
          - vehicle_name
          - tenure_in_weeks
          - tenure_in_years
          - time_to_street
          - shifts_done
          - working_time
          - planned_working_time
          - break_time
          - late_shifts
          - all_shifts
          - no_shows
          - unexcused_no_shows
          - peak_time
          - weekend_shifts
          - transition_working_time
          - transition_busy_time
          - swaps_accepted
          - swaps_pending_no_show
          - swaps_accepted_no_show
          - deliveries
        dependencies:
          - riders
          - shifts
          - _rider_kpi_source
      - name: _orders_to_zones_ranked
        create_shared_view: false
        filter_by_entity: false
        columns: []
        pool_name: curated_data_long_running_queries
        execution_timeout_minutes: 25
        dependencies:
          - countries
        dependencies_dl:
          - hurrier_addresses
      - name: _orders_to_zones
        create_shared_view: false
        filter_by_entity: false
        columns: []
        dependencies:
          - _orders_to_zones_ranked
      - name: zone_stats
        create_shared_view: true
        filter_by_entity: false
        columns:
          - country_code
          - zone_id
          - created_at_bucket
          - created_date
          - stats
        dependencies_dl:
          - hurrier_zone_stats
      - name: rider_compliance
        create_shared_view: true
        filter_by_entity: false
        columns:
          - country_code
          - rider_id
          - rider_name
          - created_date
          - timezone
          - violations
        dependencies:
          - rider_compliance_rules
        dependencies_dl:
          - compliance_action
          - compliance_violation
      - name: rider_compliance_rules
        create_shared_view: true
        filter_by_entity: false
        columns:
          - region
          - country_code
          - created_date
          - rule_id
          - rule_name
          - violation_type
          - contract_type
          - created_at
          - city_id
          - city_name
          - timezone
          - active
          - violation_duration
          - violation_category
          - rule_type
          - violation_count
          - period_duration
          - applies_to
          - actions_template
        dependencies:
          - countries
        dependencies_dl:
          - compliance_rule
          - compliance_action_template
      - name: payments_basic_rules
        create_shared_view: true
        filter_by_entity: false
        columns:
          - country_code
          - created_date
          - created_at
          - updated_at
          - id
          - type
          - sub_type
          - name
          - amount
          - created_by
          - status
          - active
          - start_date
          - end_date
          - start_time
          - end_time
          - acceptance_rate
          - threshold
          - is_pay_below_threshold
          - max_threshold
          - applies_to
        dependencies_dl:
          - rooster_payments_basic_payment_rule
      - name: payments_quest_rules
        create_shared_view: true
        filter_by_entity: false
        columns:
          - country_code
          - created_date
          - created_at
          - updated_at
          - id
          - type
          - active
          - name
          - created_by
          - status
          - duration
          - start_date
          - end_date
          - start_time
          - end_time
          - acceptance_rate
          - no_show_limit
          - sub_type
          - is_pay_below_threshold
          - is_negative
          - applies_to
          - cost_factors
        dependencies_dl:
          - rooster_payments_quest_payment_rule
          - rooster_payments_goal
      - name: payments_scoring_rules
        create_shared_view: true
        filter_by_entity: false
        columns:
          - country_code
          - created_date
          - created_at
          - updated_at
          - id
          - type
          - name
          - paid_unit
          - paid_unit_type
          - active
          - created_by
          - city_id
          - start_date
          - end_date
          - status
          - applies_to
          - cost_factors
        dependencies_dl:
          - rooster_payments_scoring_payment_rule
          - rooster_payments_goal
      - name: payments_referral_rules
        create_shared_view: true
        filter_by_entity: false
        columns:
          - country_code
          - created_date
          - created_at
          - updated_at
          - start_date
          - end_date
          - id
          - unit_type
          - threshold
          - active
          - signing_bonus
          - signing_bonus_amount
          - amount
          - status
          - created_by
          - duration
          - applies_to
        dependencies_dl:
          - rooster_payments_referral_payment_rule
      - name: utr_target_periods
        create_shared_view: true
        filter_by_entity: false
        columns:
          - country_code
          - created_at
          - city_id
          - timezone
          - zone_id
          - period_name
          - weekday
          - start_time
          - end_time
          - utr
        dependencies:
          - countries
      - name: _issue_rules_templates
        create_shared_view: false
        filter_by_entity: false
        columns: []
        dependencies_dl:
          - hurrier_issue_rule_templates
      - name: _vehicle_most_orders
        dependencies:
          - orders
      - name: _sr_latest_forecast_dataset
        dependencies:
          - order_forecasts
          - countries
      - name: _rider_transitions_raw
        dependencies:
          - countries
          - riders
      - name: _rider_busy_time
        dependencies:
          - orders
      - name: _rider_transitions
        dependencies:
          - _rider_transitions_raw
          - _rider_busy_time
      - name: _rider_working_time
        dependencies:
          - _vehicle_most_orders
          - _rider_transitions
          - countries
          - riders
      - name: _crossborder_orders
        create_shared_view: false
        filter_by_entity: false
        columns: []
        dependencies:
          - _orders_to_zones_ranked
          - countries
      - name: _outlier_deliveries
        create_shared_view: false
        filter_by_entity: false
        columns: []
        dependencies:
          - orders
      - name: _shift_batches
        create_shared_view: false
        filter_by_entity: false
        columns: []
        dependencies:
          - countries
        dependencies_dl:
          - rooster_batch
      - name: shift_swap_requests
        create_shared_view: true
        filter_by_entity: false
        columns:
          - region
          - country_code
          - created_date
          - created_by
          - shift_id
          - timezone
          - swap_requests
        dependencies_dl:
          - rooster_shift_swap_request
      - name: _freshdesk
        create_shared_view: false
        filter_by_entity: false
        columns: []
        dependencies_dl:
          - freshdesk_reports
      - name: _nps_survey_response
        create_shared_view: false
        filter_by_entity: false
        columns: []
        dependencies:
          - orders
        dependencies_dl:
          - data_fridge_survey_response_stream
      - name: dynamic_pricing_config
        create_shared_view: true
        filter_by_entity: false
        columns:
          - entity_id
          - vendor_code
          - vendor_name
          - country_code
          - is_active
          - is_key_account
          - delivery_types
          - vertical_type
          - customer_types
          - currency
          - chain_id
          - chain_name
          - location_geojson
          - location_wkt
          - location_wkb
          - created_at
          - updated_at
          - price_config_variant
          - scheme_id
          - scheme_name
          - is_scheme_fallback
          - travel_time_fee_config
          - mov_fee_config
          - delay_fee_config
        dependencies:
          - vendors_v2
        dependencies_dl:
          - dynamic_pricing_vendor_price_config
          - dynamic_pricing_vendor
          - dynamic_pricing_country_fee_configuration
          - dynamic_pricing_delay_fee_configuration_row
          - dynamic_pricing_delay_fee_configuration
          - dynamic_pricing_mov_configuration_row
          - dynamic_pricing_mov_configuration
          - dynamic_pricing_travel_time_fee_configuration_row
          - dynamic_pricing_travel_time_fee_configuration
          - dynamic_pricing_price_scheme
      - name: _porygon_drive_time_polygons
        create_shared_view: false
        filter_by_entity: false
        columns: []
        dependencies_dl:
          - porygon_drive_time_polygons
      - name: table_last_updated
        create_shared_view: true
        filter_by_entity: false
        filter_by_country: false
        columns:
          - table_name
          - last_updated
      - name: _utr_delivery_count
        create_shared_view: false
        filter_by_entity: false
        dependencies:
          - orders
      - name: _rider_weekly_costs
        create_shared_view: false
        filter_by_entity: false
        dependencies:
          - countries
          - rider_payments
          - rider_special_payments
          - rider_referral_payments
          - rider_percentage_payments
          - rider_tip_payments
          - riders
      - name: utr_timings
        create_shared_view: true
        filter_by_entity: false
        columns:
          - country_code
          - country_name
          - city_id
          - city_name
          - zone_id
          - zone_name
          - entity_id
          - entity_display_name
          - vertical_type
          - vehicle_bag
          - created_date
          - delivery_date
          - created_at
          - timezone
          - order_id
          - delivery_id
          - vendor_id
          - vendor_code
          - rider_id
          - delivery_count
          - intravendor_key
          - is_preorder
          - rider_notified_at
          - rider_accepted_at
          - rider_near_restaurant_at
          - rider_picked_up_at
          - rider_near_customer_at
          - rider_dropped_off_at
          - reaction_time
          - to_vendor_time
          - at_vendor_time
          - to_customer_time
          - at_customer_time
          - idle_time
          - rider_effective_time
          - delivery_costs
          - delivery_costs_eur
        dependencies:
          - orders
          - countries
          - _utr_delivery_count
          - _rider_working_time
          - _rider_weekly_costs
      - name: campaigns
        dependencies_dl:
          - porygon_campaigns_versions
        create_shared_view: True
        columns:
          - country_code
          - id
          - campaigns
      - name: _zone_optimisation_dtps
        create_shared_view: false
        filter_by_entity: false
        columns: []
        dependencies:
          - countries
        dependencies_dl:
          - porygon_restaurants
          - porygon_drive_time_polygons
      - name: _zone_optimisation_geohash_sessions
        # The query uses dhh-digital-analytics-dwh:shared_views_to_logistics.sessions_location_details view
        # We can remove this when Global Analytics authorize the view
        bigquery_conn_id: 'bigquery_default'
        create_shared_view: false
        filter_by_entity: false
        columns: []
        dependencies:
          - countries
          - _zone_optimisation_geohashes
        dependencies_dl:
          - digital_analytics_sessions_location_details
      - name: _zone_optimisation_geohashes
        create_shared_view: false
        filter_by_entity: false
        execution_timeout_minutes: 40
        pool_name: curated_data_long_running_queries
        columns: []
        dependencies:
          - countries
      - name: _dps_sessions_mapped_to_orders
        # The query uses dhh-digital-analytics-dwh.shared_views_to_logistics.dps_sessions_mapped_to_orders
        bigquery_conn_id: 'bigquery_default'
        create_shared_view: false
        filter_by_entity: false
        columns: []
        dependencies:
          - orders
          - countries
          - zone_stats
      - name: _porygon_vehicle_profile_versions
        create_shared_view: false
        filter_by_entity: false
        columns: []
        dependencies_dl:
          - porygon_restaurants
      - name: _session_location_details
        # The query uses dhh-digital-analytics-dwh:shared_views_to_logistics.sessions_location_details view
        # We can remove this when Global Analytics authorize the view
        bigquery_conn_id: 'bigquery_default'
        create_shared_view: false
        filter_by_entity: false
        columns: []
        dependencies:
          - countries
      - name: _pricing_sessions_details
        # The query uses dhh-digital-analytics-dwh:shared_views_to_logistics.pricing_sessions_details view
        # We can remove this when Global Analytics authorize the view
        bigquery_conn_id: 'bigquery_default'
        create_shared_view: false
        filter_by_entity: false
        execution_timeout_minutes: 35
        pool_name: curated_data_long_running_queries
        columns: []
        dependencies:
          - orders
      - name: _vendors_dynamic_pricing
        create_shared_view: false
        filter_by_entity: false
        columns: []
        dependencies_dl:
          - dynamic_pricing_vendor_price_config
          - dynamic_pricing_vendor
          - dynamic_pricing_country_fee_configuration
          - dynamic_pricing_delay_fee_configuration_row
          - dynamic_pricing_delay_fee_configuration
          - dynamic_pricing_mov_configuration_row
          - dynamic_pricing_mov_configuration
          - dynamic_pricing_travel_time_fee_configuration_row
          - dynamic_pricing_travel_time_fee_configuration
          - dynamic_pricing_price_scheme

curated_data_hourly:
  rps:
    ui_color: '#2a3177'
    tables:
      - name: _rps_vendors_is_active_history
        filter_by_entity: false
        time_partitioning: created_date
        cluster_fields: [entity_id, vendor_code]
      - name: _rps_vendor_schedules
        filter_by_entity: false
        time_partitioning: created_date
        cluster_fields: [entity_id, vendor_code]
        dependencies:
          - _rps_vendors_is_active_history
      - name: _rps_vendor_special_days
        filter_by_entity: false
        time_partitioning: created_date
        cluster_fields: [entity_id, vendor_code]
        dependencies:
          - _rps_vendors_is_active_history
      - name: rps_connectivity
        time_partitioning: created_date
        cluster_fields: [entity_id, vendor_code]
        filter_by_entity: true
        create_shared_view: true
        filter_by_country: false
        entity_id_column: entity_id
        sanity_checks:
          - name: sanity_check_rps_connectivity
        columns:
          - region
          - entity_id
          - country_iso
          - vendor_code
          - vendor_id
          - timezone
          - is_monitor_enabled
          - slots_utc
          - slots_local
        dependencies:
          - _rps_vendor_schedules
          - _rps_vendor_special_days
    reports:
      - name: rps_dash_agent_hourly_connectivity
        dependencies:
          - rps_connectivity
      - name: rps_connectivity_details
        dependencies:
          - rps_connectivity
      - name: rps_autocalls

curated_data_dps_user_sessions:
  logistics:
    ui_color: '#e81abe'
    bigquery_conn_id:
      tables: 'bigquery_logistics'
      reports: 'bigquery_default'
    tables:
      - name: dynamic_pricing_user_sessions
        bigquery_conn_id: bigquery_logistics_flat
        is_stream: true
        time_partitioning: created_date
        require_partition_filter: true
        cluster_fields: [ country_code, entity_id, endpoint, version ]
        create_shared_view: true
        filter_by_entity: true
        filter_by_country: false
        entity_id_column: entity_id
        execution_timeout_minutes: 240
        pool_name: curated_data_dynamic_pricing_user_sessions
        columns:
          - region
          - country_code
          - entity_id
          - created_at
          - endpoint
          - version
          - customer
          - vendors
          - promised_delivery_time
          - created_date
