raw_layer_backfill:
  countries: ~         # List of countries to filter the import.
                       # Empty array means all countries.
                       # Null value disable the import for not regional applications.
  regions: ~           # List of regions to filter the import.
                       # Empty array means all regions.
                       # Null value disable the import for regional applications.
  from_date: ~         # Datetime format: %Y-%m-%d %H:%M:%S
  to_date: ~           # Datetime format: %Y-%m-%d %H:%M:%S

dwh_merge_layer_databases:
  gcc:
    is_regional: false
    source: RedShift_S3
    source_format: parquet
    redshift_s3:
      # Pandora DWH do not have a staging environment
      bucket_name: dh-pandora-bi-datahub
    tables:

      - name: freshchat_chats
        pk_columns: [interaction_id]
        cleanup_enabled: false
        partition_by_date: false
        filter_import_by_date: false
        sanity_checks:
          created_date_null: false
          duplicate_check: true
        write_disposition: WRITE_TRUNCATE
        redshift_s3:
          table_name: il_global_ccn_freshchat_fct_chats

      - name: pandacare_chats
        pk_columns: [chat_id]
        cleanup_enabled: false
        partition_by_date: false
        filter_import_by_date: false
        sanity_checks:
          created_date_null: false
          duplicate_check: true
        write_disposition: WRITE_TRUNCATE
        redshift_s3:
          table_name: il_global_ccn_pandacare_fct_chats

      - name: nvm_calls
        pk_columns: [call_id]
        cleanup_enabled: false
        partition_by_date: false
        filter_import_by_date: false
        sanity_checks:
          created_date_null: false
          duplicate_check: true
        write_disposition: WRITE_TRUNCATE
        redshift_s3:
          table_name: il_global_ccn_nvm_fct_calls

      - name: salesforce_work_items
        pk_columns: [work_item_id]
        cleanup_enabled: false
        partition_by_date: false
        filter_import_by_date: false
        sanity_checks:
          created_date_null: false
          duplicate_check: true
        write_disposition: WRITE_TRUNCATE
        redshift_s3:
          table_name: il_global_ccn_salesforce_fct_work_items

      - name: intercom_chats
        pk_columns: [chat_id]
        cleanup_enabled: false
        partition_by_date: false
        filter_import_by_date: false
        sanity_checks:
          created_date_null: false
          duplicate_check: true
        write_disposition: WRITE_TRUNCATE
        redshift_s3:
          table_name: il_global_ccn_intercom_fct_chats

      - name: qualtrics_csat_responses
        pk_columns: [response_id]
        cleanup_enabled: false
        partition_by_date: false
        filter_import_by_date: false
        sanity_checks:
          created_date_null: false
          duplicate_check: true
        write_disposition: WRITE_TRUNCATE
        redshift_s3:
          table_name: il_global_ccn_qualtrics_fct_csat_responses

      - name: helpcenter_sessions
        pk_columns: [flow_session_id]
        cleanup_enabled: false
        partition_by_date: false
        filter_import_by_date: false
        sanity_checks:
          created_date_null: false
          duplicate_check: true
        write_disposition: WRITE_TRUNCATE
        redshift_s3:
          table_name: il_global_ccn_hc_fct_sessions

      - name: salesforce_cases
        pk_columns: [case_id]
        cleanup_enabled: false
        partition_by_date: false
        filter_import_by_date: false
        sanity_checks:
          created_date_null: false
          duplicate_check: true
        write_disposition: WRITE_TRUNCATE
        redshift_s3:
          table_name: il_global_ccn_salesforce_fct_tickets

      - name: users
        pk_columns: [email]
        cleanup_enabled: false
        partition_by_date: false
        filter_import_by_date: false
        sanity_checks:
          created_date_null: false
          duplicate_check: true
        write_disposition: WRITE_TRUNCATE
        redshift_s3:
          table_name: il_global_ccn_dim_global_cc_users

      - name: playvox_evaluations
        pk_columns: [evaluation_id]
        cleanup_enabled: false
        partition_by_date: false
        filter_import_by_date: false
        sanity_checks:
          created_date_null: false
          duplicate_check: true
        write_disposition: WRITE_TRUNCATE
        redshift_s3:
          table_name: il_global_ccn_playvox_fct_evaluations

      - name: playvox_coachings
        pk_columns: [coaching_id]
        cleanup_enabled: false
        partition_by_date: false
        filter_import_by_date: false
        sanity_checks:
          created_date_null: false
          duplicate_check: true
        write_disposition: WRITE_TRUNCATE
        redshift_s3:
          table_name: il_global_ccn_playvox_fct_coachings

      - name: playvox_evaluations_custom_questions
        pk_columns: [evaluation_id, customquestion_id]
        cleanup_enabled: false
        partition_by_date: false
        filter_import_by_date: false
        sanity_checks:
          created_date_null: false
          duplicate_check: true
        write_disposition: WRITE_TRUNCATE
        redshift_s3:
          table_name: il_global_ccn_playvox_fct_evaluation_customquestions

      - name: countries
        pk_columns: [global_entity_id]
        cleanup_enabled: false
        partition_by_date: false
        filter_import_by_date: false
        sanity_checks:
          created_date_null: false
          duplicate_check: true
        write_disposition: WRITE_TRUNCATE
        redshift_s3:
          table_name: il_global_ccn_dim_cc_countries

      - name: helpcenter_session_events
        pk_columns: [event_id]
        cleanup_enabled: false
        partition_by_date: false
        filter_import_by_date: false
        sanity_checks:
          created_date_null: false
          duplicate_check: true
        write_disposition: WRITE_TRUNCATE
        redshift_s3:
          table_name: il_global_ccn_hc_fct_session_events

      - name: rooster_absences
        pk_columns: [rdbms_id, absence_id, date_of_absence]
        cleanup_enabled: false
        partition_by_date: false
        filter_import_by_date: false
        sanity_checks:
          created_date_null: false
          duplicate_check: true
        write_disposition: WRITE_TRUNCATE
        redshift_s3:
          table_name: il_global_ccn_rooster_fct_absences

      - name: salesforce_chats
        pk_columns: [chat_id]
        cleanup_enabled: false
        partition_by_date: false
        filter_import_by_date: false
        sanity_checks:
          created_date_null: false
          duplicate_check: true
        write_disposition: WRITE_TRUNCATE
        redshift_s3:
          table_name: il_global_ccn_salesforce_fct_chats

      - name: zendesk_tickets
        pk_columns: [ticket_id, global_entity_id]
        cleanup_enabled: false
        partition_by_date: false
        filter_import_by_date: false
        sanity_checks:
          created_date_null: false
          duplicate_check: true
        write_disposition: WRITE_TRUNCATE
        redshift_s3:
          table_name: il_global_ccn_cc_zendesk_fct_tickets

      - name: freshdesk_tickets
        pk_columns: [interaction_id]
        cleanup_enabled: false
        partition_by_date: false
        filter_import_by_date: false
        sanity_checks:
          created_date_null: false
          duplicate_check: true
        write_disposition: WRITE_TRUNCATE
        redshift_s3:
          table_name: il_global_ccn_freshdesk_fct_tickets

      - name: playvox_calibrations
        pk_columns: [calibration_id]
        cleanup_enabled: false
        partition_by_date: false
        filter_import_by_date: false
        sanity_checks:
          created_date_null: false
          duplicate_check: true
        write_disposition: WRITE_TRUNCATE
        redshift_s3:
          table_name: il_global_ccn_playvox_fct_calibrations

      - name: rooster_shifts
        pk_columns: [rdbms_id, shift_id]
        cleanup_enabled: false
        partition_by_date: false
        filter_import_by_date: false
        sanity_checks:
          created_date_null: false
          duplicate_check: true
        write_disposition: WRITE_TRUNCATE
        redshift_s3:
          table_name: il_global_ccn_rooster_fct_shifts

      - name: global_ccr
        pk_columns: [global_ccr_code]
        cleanup_enabled: false
        partition_by_date: false
        filter_import_by_date: false
        sanity_checks:
          created_date_null: false
          duplicate_check: true
        write_disposition: WRITE_TRUNCATE
        redshift_s3:
          table_name: il_global_ccn_global_dim_ccr

      - name: playvox_evaluations_questions
        pk_columns: [evaluation_id, question_id]
        cleanup_enabled: false
        partition_by_date: false
        filter_import_by_date: false
        sanity_checks:
          created_date_null: false
          duplicate_check: true
        write_disposition: WRITE_TRUNCATE
        redshift_s3:
          table_name: il_global_ccn_playvox_fct_evaluation_questions

      - name: helpcenter_flow
        pk_columns: [flow_session_id]
        cleanup_enabled: false
        partition_by_date: false
        filter_import_by_date: false
        sanity_checks:
          created_date_null: false
          duplicate_check: true
        write_disposition: WRITE_TRUNCATE
        redshift_s3:
          table_name: il_global_ccn_hc_fct_flow

      - name: sendbird_messages
        pk_columns: [country_iso, message_id]
        cleanup_enabled: false
        partition_by_date: false
        filter_import_by_date: false
        sanity_checks:
          created_date_null: false
          duplicate_check: true
        write_disposition: WRITE_TRUNCATE
        redshift_s3:
          table_name: sendbird_sendbird_messages

      - name: sendbird_channels
        pk_columns: [country_iso, channel_url]
        cleanup_enabled: false
        partition_by_date: false
        filter_import_by_date: false
        sanity_checks:
          created_date_null: false
          duplicate_check: true
        write_disposition: WRITE_TRUNCATE
        redshift_s3:
          table_name: sendbird_sendbird_channels

      - name: sendbird_channel_members
        pk_columns: [country_iso, channel_url, member_id]
        cleanup_enabled: false
        partition_by_date: false
        filter_import_by_date: false
        sanity_checks:
          created_date_null: false
          duplicate_check: true
        write_disposition: WRITE_TRUNCATE
        redshift_s3:
          table_name: sendbird_sendbird_channel_members

      - name: qualtrics_no_contact_csat_responses
        pk_columns: [response_id]
        cleanup_enabled: false
        partition_by_date: false
        filter_import_by_date: false
        sanity_checks:
          created_date_null: false
          duplicate_check: true
        write_disposition: WRITE_TRUNCATE
        redshift_s3:
          table_name: il_global_ccn_qualtrics_fct_no_contact_csat_responses

      - name: avaya_chats
        pk_columns: [chat_id]
        cleanup_enabled: false
        partition_by_date: false
        filter_import_by_date: false
        sanity_checks:
          created_date_null: false
          duplicate_check: true
        write_disposition: WRITE_TRUNCATE
        redshift_s3:
          table_name: il_global_ccn_avaya_fct_chats

      - name: avaya_calls
        pk_columns: [call_id]
        cleanup_enabled: false
        partition_by_date: false
        filter_import_by_date: false
        sanity_checks:
          created_date_null: false
          duplicate_check: true
        write_disposition: WRITE_TRUNCATE
        redshift_s3:
          table_name: il_global_ccn_avaya_fct_calls

      - name: elastix_calls
        pk_columns: [call_id]
        cleanup_enabled: false
        partition_by_date: false
        filter_import_by_date: false
        sanity_checks:
          created_date_null: false
          duplicate_check: true
        write_disposition: WRITE_TRUNCATE
        redshift_s3:
          table_name: il_global_ccn_elastix_fct_calls

      - name: rooster_forecasted_incidents
        pk_columns: [global_entity_id, created_datetime]
        cleanup_enabled: false
        partition_by_date: false
        filter_import_by_date: false
        sanity_checks:
          created_date_null: false
          duplicate_check: true
        write_disposition: WRITE_TRUNCATE
        redshift_s3:
          table_name: il_global_ccn_rooster_fct_forecasted_incidents

      - name: autocomp_events
        pk_columns: [event_id]
        cleanup_enabled: false
        partition_by_date: false
        filter_import_by_date: false
        sanity_checks:
          created_date_null: false
          duplicate_check: true
        write_disposition: WRITE_TRUNCATE
        redshift_s3:
          table_name: il_global_ccn_autocomp_fct_events

      - name: autocomp_triggers
        pk_columns: [event_id]
        cleanup_enabled: false
        partition_by_date: false
        filter_import_by_date: false
        sanity_checks:
          created_date_null: false
          duplicate_check: true
        write_disposition: WRITE_TRUNCATE
        redshift_s3:
          table_name: il_global_ccn_autocomp_fct_triggers

      - name: gcc_self_reported_data
        pk_columns: [global_entity_id, department, date]
        cleanup_enabled: false
        partition_by_date: false
        filter_import_by_date: false
        sanity_checks:
          created_date_null: false
          duplicate_check: true
        write_disposition: WRITE_TRUNCATE
        redshift_s3:
          table_name: il_global_ccn_cc_self_reported_data

      - name: helpcenter_navigation_history
        pk_columns: [event_id]
        cleanup_enabled: false
        partition_by_date: false
        filter_import_by_date: false
        sanity_checks:
          created_date_null: false
          duplicate_check: true
        write_disposition: WRITE_TRUNCATE
        redshift_s3:
          table_name: il_global_ccn_hc_fct_navigation_history
