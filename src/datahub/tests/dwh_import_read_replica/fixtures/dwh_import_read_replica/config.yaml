bigquery:
  project_id: 'fulfillment-dwh-test'
  staging_project_id: 'fulfillment-dwh-test'
  dataset:
    staging: staging
    raw: raw
    dl: dl
    hl: hl
    cl: cl
    acl: acl
    curated_data_filtered: curated_data_filtered
    curated_data_shared: curated_data_shared
  create_views: false

databricks:
  default:
    spark_cluster:
      driver_node: c5.xlarge
      worker_node: c5.xlarge
      num_workers: 1

  _base_job: &jobs_base
    enabled: true
    version: 20.42.0
    main_class: com.deliveryhero.datahub.spark.jobs.dmart.raw.ExtractReadReplicasToBigQueryJob
    jar_path: dbfs:/jobs/jars/spark-jobs-assembly-{version}.jar

  export_read_replica:
    <<: *jobs_base
    default:
      spark_cluster:
        driver_node: c5.xlarge
        worker_node: c5.xlarge
        num_workers: 1

dwh_merge_layer_databases:
  test_enabled:
    is_regional: false
    source: RDS
    credentials:
      username: foodora
      password: JDBC_LOG_PASSWORD
    tables:
      - name: test
        skip_in_legacy: false
  test_table_disabled:
    is_regional: false
    source: DynamoDB
    credentials:
      username: foodora
      password: JDBC_LOG_PASSWORD
    tables:
      - name: test
        skip_in_legacy: false
        job_config:
          export_read_replica:
            enabled: false
          copy_staging_to_raw_layer:
            enabled: false
  test_database_disabled:
    is_regional: false
    source: firebase
    job_config:
      export_read_replica:
        enabled: false
      copy_staging_to_raw_layer:
        enabled: false
    tables:
      - name: test
        source_table: test.dataset.table_foo
